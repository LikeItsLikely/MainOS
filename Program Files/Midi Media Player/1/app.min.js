var MidiPlayer=MidiPlayer,loadSong,loadDataUri,Player,AudioContext=window.AudioContext||window.webkitAudioContext||!1,ac=new AudioContext||new webkitAudioContext,changeTempo=function(e){Player.tempo=e},play=function(){Player.play()},pause=function(){Player.pause()},stop=function(){Player.stop()},buildTracksHtml=function(){Player.tracks.forEach(function(e,n){var a=document.createElement("div");a.id="track-"+(n+1);var t=document.createElement("h5");t.innerHTML="Track "+(n+1);var o=document.createElement("code");a.appendChild(t),a.appendChild(o),eventsDiv.appendChild(a)})};Soundfont.instrument(ac,"soundfont.js").then(function(e){loadSong=function(n){var n=document.querySelector("input[type=file]").files[0];console.log(n);var a=new FileReader;n&&a.readAsArrayBuffer(n),a.addEventListener("load",function(){Player=new MidiPlayer.Player(function(n){"Note on"==n.name&&e.play(n.noteName,ac.currentTime,{gain:n.velocity/100})}),Player.loadArrayBuffer(a.result),play()},!1)},loadDataUri=function(n){Player=new MidiPlayer.Player(function(n){"Note on"==n.name&&n.velocity>0&&e.play(n.noteName,ac.currentTime,{gain:n.velocity/100})}),Player.loadDataUri(n)}});